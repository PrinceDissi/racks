<link rel="import" href="/racks/elements/racks.html">
<racks-element name="core-menu">
    <style>
        :host {
            overflow: auto;
            display: block;
        }
    </style>
    <template>
        <div class="fade-content">
            <content></content>
        </div>
    </template>
    <script>
        Racks('core-menu', {
            domReady: function() {
                var $callee = $('core-menu').find('li');
                $callee.on('click', function() {
                    var col = $(this).data('color');
                    if(!$(this).hasClass(col)) {
                        $(this).addClass(col);
                    }
                    if($(this).hasClass('active')) {
                        $(this).find('ul').slideUp()
                        $(this).removeClass('active');
                        return;
                    } else {
                        $callee.removeClass('active');
                        $('core-menu').find('ul ul').slideUp();
                    }
                    $(this).toggleClass('active');
                    $(this).find('ul').slideToggle();
                });
            }
        });
    </script>
</racks-element>
